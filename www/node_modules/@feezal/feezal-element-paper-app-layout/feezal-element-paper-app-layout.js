import {FeezalElement, html} from "@feezal/feezal-element";

import '@polymer/iron-icons/iron-icons.js';
import '@polymer/paper-icon-button/paper-icon-button.js';
import '@polymer/app-layout/app-drawer-layout/app-drawer-layout.js';
import '@polymer/app-layout/app-drawer/app-drawer.js';
import '@polymer/app-layout/app-scroll-effects/app-scroll-effects.js';
import '@polymer/app-layout/app-header/app-header.js';
import '@polymer/app-layout/app-header-layout/app-header-layout.js';
import '@polymer/app-layout/app-toolbar/app-toolbar.js';

class FeezalElementPaperAppLayout extends FeezalElement {
    static get template() {
        return html`
            <style include="feezal-style-element">
                :host {
                    top: 0px !important;
                    left: 0px !important;
                    width: 100%;
                    height: 100%;
                    margin: 0;
                    padding: 0;
                }
                #container {
                    display: none;
                    width: 100%;
                    height: 100%;
                }
                #placeholder {
                    width: 100%;
                    height: 100%;
                    display: none;
                    background-image:
                        -moz-linear-gradient(45deg, #eee 25%, transparent 25%,transparent 75%, #eee 75%, #eee 100%),
                        -moz-linear-gradient(45deg, #eee 25%, transparent 25%,transparent 75%, #eee 75%, #eee 100%);
                    background-image:
                        -webkit-linear-gradient(45deg, #eee 25%, transparent 25%,transparent 75%, #eee 75%, #eee 100%),
                        -webkit-linear-gradient(45deg, #eee 25%, transparent 25%,transparent 75%, #eee 75%, #eee 100%);
                    -moz-background-size:20px 20px;
                    background-size:20px 20px;
                    -webkit-background-size:21px 21px;
                    background-position:0 0, 10px 10px;
                }
                
                
                app-header {
                    background-color: var(--feezal-app-header-background-color);
                    color: var(--feezal-app-header-color);
                }
                paper-icon-button {
                    --paper-icon-button-ink-color: var(--feezal-basic-iframe-border);
                }
                app-drawer-layout:not([narrow]) [drawer-toggle] {
                    display: none;
                }
                
                app-drawer {
                    --app-drawer-content-container: {
                        color: var(--feezal-app-drawer-color);
                        background-color: var(--feezal-app-drawer-background-color);
                    }
                }

            </style>
            
            <div id="placeholder">
                <div style="padding: 24px;">App Layout</div>
            </div>
            <div id="container">
                <app-drawer-layout>
                    <app-drawer slot="drawer">
                        <app-toolbar>Getting Started</app-toolbar>
                    </app-drawer>
                
                    <app-header-layout>
                        
                        <app-header slot="header" reveals effects="waterfall">
                            <app-toolbar>
                                <paper-icon-button icon="menu" drawer-toggle></paper-icon-button>
                                <div main-title>Title</div>
                            </app-toolbar>
                        </app-header>
                        
                        <div id="view"></div>
                        
                    </app-header-layout>
                    
                </app-drawer-layout>
            </div>
        `;
    }
    static get properties() {
        return {
            subscribeTopic: {
                type: String,
                value: '',
                reflectToAttribute: true
            },
            publishTopic: {
                type: String,
                value: '',
                reflectToAttribute: true
            },
            view: {
                type: String,
                reflectToAttribute: true
            },
            viewDrawer: {
                type: Boolean,
                reflectToAttribute: true,
            },
            viewHeader: {
                type: Boolean,
                reflectToAttribute: true,
            },
            headerReveals: {
                type: Boolean,
                reflectToAttribute: true,
            },
            headerEffects: {
                type: String,
                reflectToAttribute: true,

            }
        }
    }
    static get feezal() {
        return {
            palette: {
                category: 'Paper',
                name: 'App Layout',
                color: '#eee'
            },
            attributes: [
                'view-drawer',
                'view-header',


            ],
            baseAttribute: 'view',
            styles: [
                '--app-drawer-width',
                '--app-drawer-scrim-background',
                '--feezal-app-header-background-color',
                '--feezal-app-header-color',
                '--feezal-app-drawer-background-color',
                '--feezal-app-drawer-color',
            ],
            restrict: {
                move: false,
                resize: false
            }
        };
    }
    connectedCallback() {
        super.connectedCallback();
        if (feezal.isEditor) {
            this.$.placeholder.style.display = 'block';
        } else {
            this.$.container.style.display = 'block';
        }
    }
}

window.customElements.define('feezal-element-paper-app-layout', FeezalElementPaperAppLayout);
